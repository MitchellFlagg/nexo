var nexo=nexo||{};nexo.NexoTermList=Backbone.Collection.extend({model:nexo.NexoTerm,url:"http://localhost:8182/graphs/neo4jnexo/vertices?key=name&value=NeXO:8888"});var nexo=nexo||{};nexo.NexoTerm=Backbone.Model.extend({defaults:{name:"unknown",description:"-",robustness:0},idAttribute:"_id",toJSON:function(){return{_id:1,name:"test"}}});var nexo=nexo||{};$(function(){"use strict";$("#search").click(function(){var t=$("#search-term").val();console.log("Search start! FORM = "+t),$("#result").empty(),$.getJSON("/search/nexo/"+t,function(t){console.log("Result: \n"+JSON.stringify(t)),console.log("len: \n"+t.length);var e="",i="<tr><th>Term ID</th><th>Name</th></tr>";$("#result").append(i);for(var n=0;t.length>n;n++){var s=t[n],o=s.name.replace("NeXO:",""),r=s["term name"];e+="<tr><td><a href='/nexoview/"+o+"'>",e+=o,e+="</a></td>",e+="<td>",e+=r,e+="</td>",e+="</tr>"}console.log("ROWS = "+e),$("#result").append(e).hide().fadeIn(1e3)})})}),this.JST=this.JST||{};var nexo=nexo||{};nexo.NexoTermView=Backbone.View.extend({tagName:"div",className:"termContainer",template:$("#termTemplate").html(),events:{},render:function(){var t=_.template(this.template);return this.$el.html(t(this.model.toJSON())),this}});var nexo=nexo||{};nexo.NexoTermListView=Backbone.View.extend({el:$("#terms"),initialize:function(){this.collection=new nexo.NexoTermList,this.collection.fetch(),this.render(),this.listenTo(this.collection,"show",this.renderTerm),this.listenTo(this.collection,"reset",this.render)},events:{"click #search":"showTerms"},showTerms:function(t){t.preventDefault();var e={};$("#search div").children("input").each(function(){console.log("Renderer called!")}),this.collection.create(e)},render:function(){this.collection.each(function(t){this.renderTerm(t)},this)},renderTerm:function(t){var e=new nexo.NexoTermView({model:t});this.$el.append(e.render().el)}});
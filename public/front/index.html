<!DOCTYPE html>
<html lang="en">
<head>
    <title>NeXO Web: Next Generation Ontology Browser</title>
    <meta charset="utf-8">

    <!-- For Web Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400,700' rel='stylesheet'>

    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/style.css"/>
</head>

<body>

<!-- Main Network View -->
<div class="overview" id="sigma-canvas"></div>

<div id="mainpanel">
    <div id="network-title"></div>

    <form class="form-search">
        <input id="query" type="text" class="input-medium flat">
        <button id="search-button" type="button" class="flat-btn">Search</button>
        <button id="help-button" type="button" class="flat-btn">?</button>
    </form>
    <label class="radio">
        <input type="radio" name="optionsRadios" id="byKeyword" value="option1" checked>
        by Keywords
    </label>
    <label class="radio">
        <input type="radio" name="optionsRadios" id="byGenes" value="option2">
        by Genes
    </label>

    <div id="results">
        <table id="result-table" class="table"></table>
    </div>

</div>

<!-- Navigation UI -->
<div id="commands">
    <div class="z" rel="in">
    </div>
    <div class="z" rel="out"></div>
    <div class="z" rel="center"></div>

    <a href="#myModal" data-toggle="modal">
        <div class="s" rel="swap" title="Current Ontology"></div>
    </a>
    <div class="s" rel="settings"></div>
</div>


<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h3 id="myModalLabel">Select Ontology</h3>
    </div>
    <div class="modal-body">
        <ul id="trees" class="nav nav-list">
            <li class="nav-header">NeXO (Machine generated hierarchy from interaction data)</li>
            <li><a href="">NeXO Tree</a></li>
            <li class="divider"></li>
            <li class="nav-header">Gene Ontology</li>
            <li><a href="">Biological Process</a></li>
            <li><a href="">Celular Component</a></li>
            <li><a href="">Molecular Function</a></li>
        </ul>
    </div>
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Apply</button>
    </div>
</div>

<!--Details for clicked node -->
<div id="attributepane">
    <button id="close-button" class="flat-btn" type="button">Close</button>

    <div class="headertext"></div>
    <div class="subnetwork"></div>

    <div class="tabbable">
        <ul id="result-tab" class="nav nav-tabs">
            <li class="active"><a href="#details" data-toggle="tab">Summary</a></li>
            <li><a href="#genes" data-toggle="tab">Genes</a></li>
            <li><a href="#children" data-toggle="tab">Children</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane fade in active" id="details"></div>
            <div class="tab-pane fade in active" id="genes"></div>
            <div class="tab-pane fade in active" id="children"></div>
        </div>
    </div>
</div>

<!-- Scripts TODO: use require.js -->
<script src="js/jquery/jquery.min.js"></script>
<script src="js/async/async.js"></script>
<script src="js/sigma/sigma.concat.js"></script>
<script src="js/cytoscape.js/cytoscape.js"></script>
<script src="js/underscore.js/underscore.js"></script>
<script src="js/backbone/backbone.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/d3/d3.v3.js"></script>

<script src="js/nexo.js"></script>
<script>
    $('#result-tab a').click(function (e) {
        e.preventDefault();
        $(this).tab('show');
    });

    $('#result-tab a:last').tab('show');
    $('#result-tab a[href="#details"]').tab('show');

    $('#myModal').modal({backdrop: false, show: false});


    var treeItems = $('#trees li');
    var selected = null;
    treeItems.click(function (e) {
        selected = $(this);
        if (!selected.hasClass('active')) {
            selected.addClass('active');
            console.log("Activating: " + selected.first().text());
        }
        e.preventDefault();

        var selectedName = selected.first().text();
        treeItems.each(function () {

            //console.log("Selected === " + selected.first().text());
            if (selectedName !== $(this).first().text() && $(this).hasClass("active")) {

                console.log("Disable: " + $(this).first().text());
                $(this).removeClass("active");
            }
        });
    });
</script>
</body>
</html>